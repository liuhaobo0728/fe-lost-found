{"remainingRequest":"/Users/liuhaobo/Desktop/fe-lost-found/node_modules/babel-loader/lib/index.js!/Users/liuhaobo/Desktop/fe-lost-found/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/liuhaobo/Desktop/fe-lost-found/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/liuhaobo/Desktop/fe-lost-found/src/components/changeCity/categroy.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/liuhaobo/Desktop/fe-lost-found/src/components/changeCity/categroy.vue","mtime":1553223201158},{"path":"/Users/liuhaobo/Desktop/fe-lost-found/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liuhaobo/Desktop/fe-lost-found/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/liuhaobo/Desktop/fe-lost-found/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liuhaobo/Desktop/fe-lost-found/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _slicedToArray from \"/Users/liuhaobo/Desktop/fe-lost-found/node_modules/@babel/runtime-corejs2/helpers/esm/slicedToArray\";\nimport _Object$entries from \"/Users/liuhaobo/Desktop/fe-lost-found/node_modules/@babel/runtime-corejs2/core-js/object/entries\";\nimport \"core-js/modules/es6.array.sort\";\nimport \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"/Users/liuhaobo/Desktop/fe-lost-found/node_modules/@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport \"core-js/modules/es6.regexp.split\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.promise\";\nimport \"core-js/modules/es6.object.assign\";\nimport \"core-js/modules/es7.promise.finally\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n// import pyjs from 'js-pinyin'\nexport default {\n  data: function data() {\n    return {\n      list: 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'.split(''),\n      block: []\n    };\n  },\n  mounted: function () {\n    var _mounted = _asyncToGenerator(\n    /*#__PURE__*/\n    regeneratorRuntime.mark(function _callee() {\n      var self, blocks, _ref, status, city, p, c, d, _arr, _i, _arr$_i, k, v;\n\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              self = this;\n              blocks = [];\n              _context.next = 4;\n              return self.$axios.get('/geo/city');\n\n            case 4:\n              _ref = _context.sent;\n              status = _ref.status;\n              city = _ref.data.city;\n\n              if (status === 200) {\n                d = {};\n                city.forEach(function (item) {\n                  p = pyjs.getFullChars(item.name).toLocaleLowerCase().slice(0, 1);\n                  c = p.charCodeAt(0);\n\n                  if (c > 96 && c < 123) {\n                    if (!d[p]) {\n                      d[p] = [];\n                    }\n\n                    d[p].push(item.name);\n                  }\n                });\n                _arr = _Object$entries(d);\n\n                for (_i = 0; _i < _arr.length; _i++) {\n                  _arr$_i = _slicedToArray(_arr[_i], 2), k = _arr$_i[0], v = _arr$_i[1];\n                  blocks.push({\n                    title: k.toUpperCase(),\n                    city: v\n                  });\n                }\n\n                blocks.sort(function (a, b) {\n                  return a.title.charCodeAt(0) - b.title.charCodeAt(0);\n                });\n                self.block = blocks;\n              }\n\n            case 8:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    function mounted() {\n      return _mounted.apply(this, arguments);\n    }\n\n    return mounted;\n  }()\n};",{"version":3,"sources":["categroy.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyBA;AACA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,IAAA,EAAA,6BAAA,KAAA,CAAA,EAAA,CADA;AAEA,MAAA,KAAA,EAAA;AAFA,KAAA;AAIA,GANA;AAOA,EAAA,OAPA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAQA,cAAA,IARA,GAQA,IARA;AASA,cAAA,MATA,GASA,EATA;AAAA;AAAA,qBAUA,IAAA,CAAA,MAAA,CAAA,GAAA,CAAA,WAAA,CAVA;;AAAA;AAAA;AAUA,cAAA,MAVA,QAUA,MAVA;AAUA,cAAA,IAVA,QAUA,IAVA,CAUA,IAVA;;AAWA,kBAAA,MAAA,KAAA,GAAA,EAAA;AAGA,gBAAA,CAHA,GAGA,EAHA;AAIA,gBAAA,IAAA,CAAA,OAAA,CAAA,UAAA,IAAA,EAAA;AACA,kBAAA,CAAA,GAAA,IAAA,CAAA,YAAA,CAAA,IAAA,CAAA,IAAA,EAAA,iBAAA,GAAA,KAAA,CAAA,CAAA,EAAA,CAAA,CAAA;AACA,kBAAA,CAAA,GAAA,CAAA,CAAA,UAAA,CAAA,CAAA,CAAA;;AACA,sBAAA,CAAA,GAAA,EAAA,IAAA,CAAA,GAAA,GAAA,EAAA;AACA,wBAAA,CAAA,CAAA,CAAA,CAAA,CAAA,EAAA;AACA,sBAAA,CAAA,CAAA,CAAA,CAAA,GAAA,EAAA;AACA;;AACA,oBAAA,CAAA,CAAA,CAAA,CAAA,CAAA,IAAA,CAAA,IAAA,CAAA,IAAA;AACA;AACA,iBATA;AAJA,uBAcA,gBAAA,CAAA,CAdA;;AAcA,qDAAA;AAAA,yDAAA,CAAA,eAAA,CAAA;AACA,kBAAA,MAAA,CAAA,IAAA,CAAA;AACA,oBAAA,KAAA,EAAA,CAAA,CAAA,WAAA,EADA;AAEA,oBAAA,IAAA,EAAA;AAFA,mBAAA;AAIA;;AACA,gBAAA,MAAA,CAAA,IAAA,CAAA,UAAA,CAAA,EAAA,CAAA;AAAA,yBAAA,CAAA,CAAA,KAAA,CAAA,UAAA,CAAA,CAAA,IAAA,CAAA,CAAA,KAAA,CAAA,UAAA,CAAA,CAAA,CAAA;AAAA,iBAAA;AACA,gBAAA,IAAA,CAAA,KAAA,GAAA,MAAA;AACA;;AAjCA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA,CAAA","sourcesContent":["<template>\n  <div class=\"\">\n    <dl class=\"m-categroy\">\n      <dt>按拼音首字母选择：</dt>\n      <dd\n        v-for=\"item in list\"\n        :key=\"item\">\n        <a :href=\"'#city-'+item\">{{ item }}</a>\n      </dd>\n    </dl>\n    <dl\n      v-for=\"item in block\"\n      :key=\"item.title\"\n      class=\"m-categroy-section\">\n      <dt :id=\"'city-'+item.title\">{{ item.title }}</dt>\n      <dd>\n        <span\n          v-for=\"c in item.city\"\n          :key=\"c\">{{ c }}</span>\n      </dd>\n    </dl>\n  </div>\n</template>\n\n<script>\n// import pyjs from 'js-pinyin'\nexport default {\n  data(){\n    return {\n      list:'ABCDEFGHIJKLMNOPQRSTUVWXYZ'.split(''),\n      block:[]\n    }\n  },\n  async mounted(){\n    let self=this;\n    let blocks=[]\n    let {status,data:{city}}=await self.$axios.get('/geo/city');\n    if(status===200){\n      let p\n      let c\n      let d={}\n      city.forEach(item=>{\n        p=pyjs.getFullChars(item.name).toLocaleLowerCase().slice(0,1)\n        c=p.charCodeAt(0)\n        if(c>96&&c<123){\n          if(!d[p]){\n            d[p]=[]\n          }\n          d[p].push(item.name)\n        }\n      })\n      for(let [k,v] of Object.entries(d)){\n        blocks.push({\n          title:k.toUpperCase(),\n          city:v\n        })\n      }\n      blocks.sort((a,b)=>a.title.charCodeAt(0)-b.title.charCodeAt(0))\n      self.block=blocks\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\">\n  .m-categroy {\n  display: flex;\n  margin-bottom: 30px;\n\n  dt {\n    font-size: 16px;\n    color: #333;\n    font-weight: 500;\n  }\n\n  dd {\n    font-size: 15px;\n    color: #666;\n    margin: 0 6px;\n    width: 24px;\n    height: 24px;\n    padding: 4px;\n    cursor: pointer;\n    box-sizing: border-box;\n    text-align: center;\n    border-radius: 50%;\n\n    &:hover {\n      background: #F8F8F8;\n    }\n  }\n}\n\n.m-categroy-section {\n  display: flex;\n  padding: 13px 30px 13px 10px;\n  border-radius: 10px;\n\n  &:hover {\n    background: #F8F8F8;\n  }\n\n  dt {\n    box-sizing: border-box;\n    vertical-align: top;\n    padding-top: 10px;\n    display: inline-block;\n    text-align: center;\n    width: 40px;\n    height: 40px;\n    border-radius: 50%;\n    color: #fff;\n    background: #13D1BE;\n    box-shadow: 0 4px 5px 0 rgba(39, 178, 164, .22);\n  }\n\n  dd {\n    flex: 1;\n\n    span {\n      margin: 10px 20px;\n      color: #666;\n      display: inline-block;\n      font-size: 14px;\n    }\n  }\n}\n</style>\n"],"sourceRoot":"src/components/changeCity"}]}