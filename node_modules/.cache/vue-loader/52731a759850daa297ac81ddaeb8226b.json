{"remainingRequest":"/Users/liuhaobo/Desktop/fe-lost-found/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/liuhaobo/Desktop/fe-lost-found/src/views/home/send.vue?vue&type=style&index=0&lang=scss&","dependencies":[{"path":"/Users/liuhaobo/Desktop/fe-lost-found/src/views/home/send.vue","mtime":1557190437081},{"path":"/Users/liuhaobo/Desktop/fe-lost-found/node_modules/css-loader/index.js","mtime":499162500000},{"path":"/Users/liuhaobo/Desktop/fe-lost-found/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/liuhaobo/Desktop/fe-lost-found/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/liuhaobo/Desktop/fe-lost-found/node_modules/sass-loader/lib/loader.js","mtime":1533139052000},{"path":"/Users/liuhaobo/Desktop/fe-lost-found/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liuhaobo/Desktop/fe-lost-found/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.avatar-uploader {\n  .el-upload {\n    border: 1px dashed #ccc;\n    border-radius: 6px;\n    cursor: pointer;\n    position: relative;\n    overflow: hidden;\n  }\n  .el-upload:hover {\n    border-color: #409eff;\n  }\n}\n.avatar-uploader-icon {\n  font-size: 28px;\n  color: #8c939d;\n  width: 178px;\n  height: 178px;\n  line-height: 178px;\n  text-align: center;\n}\n.avatar {\n  width: 178px;\n  height: 178px;\n  display: block;\n}\n.content {\n  width: 1200px;\n  margin: 0 auto;\n  .content-li {\n    margin: 30px 0;\n    font-size: 20px;\n  }\n  .upload-demo {\n    margin: 30px 0;\n  }\n  .el-textarea__inner {\n    width: 200px !important;\n  }\n  .el-input {\n    margin: 20px 0;\n    width: 400px;\n  }\n}\n",{"version":3,"sources":["send.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"send.vue","sourceRoot":"src/views/home","sourcesContent":["<template>\n  <div class=\"content\">\n    <el-upload\n      class=\"avatar-uploader\"\n      action=\"https://jsonplaceholder.typicode.com/posts/\"\n      :show-file-list=\"false\"\n      :on-success=\"handleAvatarSuccess\"\n      :before-upload=\"beforeAvatarUpload\"\n    >\n      <img v-if=\"imageUrl\" :src=\"imageUrl\" class=\"avatar\">\n      <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\n    </el-upload>\n    <!-- <input type=\"file\" @change=\"previewFile()\" ref=\"file\">\n    <br>\n    <img\n      src=\"http://localhost:8080/ae859a3d-cc5b-46df-8643-8c262696514c\"\n      height=\"200\"\n      alt=\"Image preview...\"\n    >-->\n    <div slot=\"tip\" class=\"el-upload__tip\">只能上传jpg/png文件，且不超过500kb</div>\n    <el-input type=\"textarea\" :rows=\"4\" placeholder=\"请输入描述\" v-model=\"params.itemInfo\"></el-input>\n    <el-input v-model=\"params.phone\" placeholder=\"请输入联系电话\"></el-input>\n    <br>\n    <el-input v-model=\"params.wchat\" placeholder=\"请输入微信\"></el-input>\n    <br>\n    <el-button type=\"primary\" @click=\"sendfood\">发布</el-button>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      fileList: [],\n      params: {\n        itemImg: \"\",\n        itemInfo: \"\",\n        phone: \"\",\n        wchat: \"\",\n        lat: localStorage.getItem(\"lat\"),\n        lon: localStorage.getItem(\"lng\"),\n        lostTime: Date.now(),\n        userId: this.$store.getters.id,\n        offBase: 0\n      },\n      imgfile: null\n    };\n  },\n  mounted() {\n    // alert(\"请先上传文字信息再上传图片\");\n  },\n  methods: {\n    previewFile() {\n      const file = this.$refs.file.files[0];\n      if (file.size > 1024 * 1024 * 2) {\n        alert(\"图片大小不能超过 2MB!\");\n        return false;\n      }\n      // 创建url\n      let imgUrl = window.URL.createObjectURL(file);\n      console.log(imgUrl);\n\n      // preview.setAttribute(\"src\", imgUrl)\n      // // 更改img url 以后释放 url\n      // preview.onload = function() {\n      // // console.log('图片加载成功')\n      // URL.revokeObjectURL(imgUrl)\n    },\n    handleRemove(file, fileList) {\n      // console.log(file, fileList);\n    },\n    handlePreview(file) {\n      // console.log(file);\n    },\n    sendfood() {\n      this.$api.api.createItem(this.params).then(res => {\n        alert(\"发布成功，可以添加图片\");\n        // console.log(res)\n      });\n    }\n  }\n};\n</script>\n\n\n<style lang=\"scss\">\n.avatar-uploader {\n  .el-upload {\n    border: 1px dashed #ccc;\n    border-radius: 6px;\n    cursor: pointer;\n    position: relative;\n    overflow: hidden;\n  }\n  .el-upload:hover {\n    border-color: #409eff;\n  }\n}\n.avatar-uploader-icon {\n  font-size: 28px;\n  color: #8c939d;\n  width: 178px;\n  height: 178px;\n  line-height: 178px;\n  text-align: center;\n}\n.avatar {\n  width: 178px;\n  height: 178px;\n  display: block;\n}\n.content {\n  width: 1200px;\n  margin: 0 auto;\n  .content-li {\n    margin: 30px 0;\n    font-size: 20px;\n  }\n  .upload-demo {\n    margin: 30px 0;\n  }\n  .el-textarea__inner {\n    width: 200px !important;\n  }\n  .el-input {\n    margin: 20px 0;\n    width: 400px;\n  }\n}\n</style>\n"]}]}