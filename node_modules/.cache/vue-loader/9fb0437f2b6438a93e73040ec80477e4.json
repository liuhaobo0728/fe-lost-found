{"remainingRequest":"/Users/liuhaobo/Desktop/fe-lost-found/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/liuhaobo/Desktop/fe-lost-found/src/components/home/header/city.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/liuhaobo/Desktop/fe-lost-found/src/components/home/header/city.vue","mtime":1557384686110},{"path":"/Users/liuhaobo/Desktop/fe-lost-found/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liuhaobo/Desktop/fe-lost-found/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/liuhaobo/Desktop/fe-lost-found/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liuhaobo/Desktop/fe-lost-found/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default {\n  name: \"fe-header-city\",\n  data() {\n    return {\n      city: \"天津市\",\n      showcity: false,\n      address_detail: null, //详细地址\n      userlocation: {\n        lng: 0,\n        lat: 0\n      },\n      page: {\n        nowPage: 1,\n        pageSize: 10\n      }\n    };\n  },\n  mounted() {\n    this.location();\n  },\n  methods: {\n    changecity() {\n      // this.showcity = !this.showcity\n      // console.log(this.showcity)\n      this.$router.push({\n        path: \"changecity\"\n      });\n    },\n    location() {\n      let that = this;\n      var geolocation = new BMap.Geolocation();\n      geolocation.getCurrentPosition(\n        function(r) {\n          that.city = r.address.city;\n          if (this.getStatus() == BMAP_STATUS_SUCCESS) {\n            localStorage.lng = r.point.lng;\n            localStorage.lat = r.point.lat;\n            that.userlocation.lng = r.point.lng;\n            that.userlocation.lat = r.point.lat;\n            that.params = Object.assign({}, that.userlocation, that.page);\n          } else {\n            alert(\"failed\" + this.getStatus());\n          }\n        },\n        { enableHighAccuracy: true }\n      );\n    }\n  }\n};\n",{"version":3,"sources":["city.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;AAgBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"city.vue","sourceRoot":"src/components/home/header","sourcesContent":["<template>\n  <div class=\"fe-header-city\">\n    <i class=\"el-icon-location\"/>\n    {{city}}\n    <!-- <span\n      class=\"changeCity\"\n      @click=\"changecity\"\n      >切换城市\n    </span>-->\n    <!-- <div id=\"location\" class=\"city_location\" ref=\"city_location\" v-if=\"showcity\">\n\n    </div>-->\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"fe-header-city\",\n  data() {\n    return {\n      city: \"天津市\",\n      showcity: false,\n      address_detail: null, //详细地址\n      userlocation: {\n        lng: 0,\n        lat: 0\n      },\n      page: {\n        nowPage: 1,\n        pageSize: 10\n      }\n    };\n  },\n  mounted() {\n    this.location();\n  },\n  methods: {\n    changecity() {\n      // this.showcity = !this.showcity\n      // console.log(this.showcity)\n      this.$router.push({\n        path: \"changecity\"\n      });\n    },\n    location() {\n      let that = this;\n      var geolocation = new BMap.Geolocation();\n      geolocation.getCurrentPosition(\n        function(r) {\n          that.city = r.address.city;\n          if (this.getStatus() == BMAP_STATUS_SUCCESS) {\n            localStorage.lng = r.point.lng;\n            localStorage.lat = r.point.lat;\n            that.userlocation.lng = r.point.lng;\n            that.userlocation.lat = r.point.lat;\n            that.params = Object.assign({}, that.userlocation, that.page);\n          } else {\n            alert(\"failed\" + this.getStatus());\n          }\n        },\n        { enableHighAccuracy: true }\n      );\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\">\n.fe-header-city {\n  color: rgb(100, 97, 97);\n  .changeCity {\n    background: #f4f4f4;\n    border: 1px solid #e5e5e5;\n    border-radius: 2px;\n    color: #666;\n    margin: 0 4px;\n    padding: 0 2px;\n    &:hover {\n      cursor: pointer;\n      color: rgb(17, 118, 233);\n    }\n  }\n  .city_location {\n    border: 1px solid red;\n  }\n}\n#l-map {\n  height: 300px;\n  width: 100%;\n}\n#r-result {\n  width: 100%;\n}\n</style>\n"]}]}