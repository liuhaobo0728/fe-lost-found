{"remainingRequest":"/Users/liuhaobo/Desktop/fe-lost-found/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/liuhaobo/Desktop/fe-lost-found/src/views/home/content.vue?vue&type=style&index=0&id=2d02f7e3&lang=scss&scoped=true&","dependencies":[{"path":"/Users/liuhaobo/Desktop/fe-lost-found/src/views/home/content.vue","mtime":1557395942534},{"path":"/Users/liuhaobo/Desktop/fe-lost-found/node_modules/css-loader/index.js","mtime":499162500000},{"path":"/Users/liuhaobo/Desktop/fe-lost-found/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/liuhaobo/Desktop/fe-lost-found/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/liuhaobo/Desktop/fe-lost-found/node_modules/sass-loader/lib/loader.js","mtime":1533139052000},{"path":"/Users/liuhaobo/Desktop/fe-lost-found/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liuhaobo/Desktop/fe-lost-found/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.content {\n  width: 1200px;\n  margin: 0 auto;\n  text-indent: 25px;\n  .img {\n    position: absolute;\n    left: 50%;\n    margin-left: -100px;\n    width: 200px;\n    height: 200px;\n  }\n  .h3 {\n    text-align: center;\n    font-size: 34px;\n    font-weight: 600;\n    margin-bottom: 50px;\n  }\n  .el-button {\n    margin-top: 20px;\n  }\n  .content-one {\n    width: 1200px;\n    padding: 30px 0;\n    word-wrap: break-word;\n    word-break: break-all;\n    overflow: hidden;\n    position: absolute;\n    top: 400px;\n    font-size: 20px;\n  }\n  .icon {\n    margin-left: 10px;\n    margin-top: 10px;\n    margin-bottom: 10px;\n  }\n  .allmap {\n    height: 500px;\n    width: 100%;\n    margin-top: 20px;\n  }\n  .phonewx {\n    // text-align: right;\n    margin-top: 20px;\n    font-weight: 500;\n    // color: rgb(238, 11, 11);\n  }\n  .text {\n    font-size: 16px;\n  }\n  .erwei {\n    position: absolute;\n    top: 200px;\n    left: 180px;\n    width: 150px;\n    height: 170px;\n    // border: 1px solid red;\n    z-index: 999;\n    .el-icon-close {\n      position: absolute;\n      right: 0;\n      cursor: pointer;\n    }\n    .wximg {\n      width: 150px;\n      height: 150px;\n      margin-top: 20px;\n      margin-left: -25px;\n    }\n  }\n  .btndel {\n    margin-left: 20px;\n  }\n}\n",{"version":3,"sources":["content.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"content.vue","sourceRoot":"src/views/home","sourcesContent":["<template>\n  <div class=\"content\">\n    <img :src=\"content.itemImg\" alt class=\"img\">\n    <div class=\"content-one\">\n      <h3 class=\"h3\">物品描述</h3>\n      <p class=\"text\">{{content.itemInfo}}</p>\n      <div class=\"phonewx\">\n        <br>电话:\n        <span class=\"phone\">{{content.phone}}</span>\n        <br>\n        <br>微信:\n        <span class=\"wx\">{{content.wchat}}</span>\n        <br>\n        <br>地址:\n        <span class=\"address\">{{address}}</span>\n        <br>\n      </div>\n      <el-button type=\"primary\" @click=\"fen\">分享</el-button>\n      <div class=\"erwei\" v-if=\"shower\">\n        <i class=\"el-icon-close\" @click=\"handleclose\"></i>\n        <img class=\"wximg\" :src=\"erimg\" alt>\n      </div>\n      <el-button\n        class=\"btndel\"\n        type=\"danger\"\n        @click=\"del\"\n        v-if=\"this.$store.getters.userid === content.userId\"\n      >删除</el-button>\n      <div id=\"allmap\" class=\"allmap\"></div>\n    </div>\n\n    <!-- <p class=\"icon\">\n                <i class=\"el-icon-location\"></i> \n    sasasas</p>-->\n  </div>\n</template>\n\n<script>\nimport jsonp from \"jsonp\";\nimport ip from \"../../../ip.js\";\nexport default {\n  data() {\n    return {\n      params: {\n        itemId: this.$route.query.id\n      },\n      content: {},\n      address: \"\",\n      shower: false,\n      erimg: \"\"\n    };\n  },\n  created() {\n    this.$api.api.getItemInfo(this.params).then(res => {\n      if (res.data.state === 0) {\n        this.content = res.data.info;\n      }\n    });\n  },\n  mounted() {\n    const params = {\n      lat: localStorage.getItem(\"lat\"),\n      lng: localStorage.getItem(\"lng\")\n    };\n    jsonp(\n      `http://api.map.baidu.com/geocoder/v2/?location=${localStorage.getItem(\n        \"lat\"\n      )},${localStorage.getItem(\n        \"lng\"\n      )}&output=json&pois=1&latest_admin=1&ak=MbOyzDI3gvBwdrpU0ioK5f4Tpz9MgKqy&callback=renderReverse`,\n      null,\n      (err, data) => {\n        if (err) {\n          console.error(err.message);\n        } else {\n          this.address = data.result.formatted_address;\n        }\n      }\n    );\n    var map = new BMap.Map(\"allmap\");\n    map.centerAndZoom(\n      new BMap.Point(localStorage.getItem(\"lng\"), localStorage.getItem(\"lat\")),\n      11\n    );\n    map.enableScrollWheelZoom(true);\n    map.clearOverlays();\n    var new_point = new BMap.Point(\n      localStorage.getItem(\"lng\"),\n      localStorage.getItem(\"lat\")\n    );\n    var marker = new BMap.Marker(new_point); // 创建标注\n    var geoc = new BMap.Geocoder();\n    map.addOverlay(marker); // 将标注添加到地图中\n    map.panTo(new_point);\n  },\n  methods: {\n    del() {\n      this.$api.api.getdel(this.params).then(res => {\n        if (res.data.state === 0) {\n          alert(\"删除成功\");\n          this.$router.push({\n            path: \"/\"\n          });\n        }\n      });\n    },\n    fen() {\n      const params = {\n        link: `http://${ip.localhost}:8080/phone?id=${this.params.itemId}`\n      };\n      this.shower = !this.shower;\n      if (this.shower === true) {\n        this.$api.api.getlocaltion(params).then(res => {\n          this.erimg = `data:image/png;base64,${res.data.info}`;\n        });\n      }\n    },\n    handleclose() {\n      this.shower = !this.shower;\n    }\n  }\n};\n</script>\n\n\n<style lang=\"scss\" scoped>\n.content {\n  width: 1200px;\n  margin: 0 auto;\n  text-indent: 25px;\n  .img {\n    position: absolute;\n    left: 50%;\n    margin-left: -100px;\n    width: 200px;\n    height: 200px;\n  }\n  .h3 {\n    text-align: center;\n    font-size: 34px;\n    font-weight: 600;\n    margin-bottom: 50px;\n  }\n  .el-button {\n    margin-top: 20px;\n  }\n  .content-one {\n    width: 1200px;\n    padding: 30px 0;\n    word-wrap: break-word;\n    word-break: break-all;\n    overflow: hidden;\n    position: absolute;\n    top: 400px;\n    font-size: 20px;\n  }\n  .icon {\n    margin-left: 10px;\n    margin-top: 10px;\n    margin-bottom: 10px;\n  }\n  .allmap {\n    height: 500px;\n    width: 100%;\n    margin-top: 20px;\n  }\n  .phonewx {\n    // text-align: right;\n    margin-top: 20px;\n    font-weight: 500;\n    // color: rgb(238, 11, 11);\n  }\n  .text {\n    font-size: 16px;\n  }\n  .erwei {\n    position: absolute;\n    top: 200px;\n    left: 180px;\n    width: 150px;\n    height: 170px;\n    // border: 1px solid red;\n    z-index: 999;\n    .el-icon-close {\n      position: absolute;\n      right: 0;\n      cursor: pointer;\n    }\n    .wximg {\n      width: 150px;\n      height: 150px;\n      margin-top: 20px;\n      margin-left: -25px;\n    }\n  }\n  .btndel {\n    margin-left: 20px;\n  }\n}\n</style>\n"]}]}